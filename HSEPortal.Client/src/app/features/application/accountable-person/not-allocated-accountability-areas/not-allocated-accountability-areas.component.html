<govuk-back-link>Back</govuk-back-link>

<div class="govuk-main-wrapper">
    <div class="govuk-grid-row">
        <div class="govuk-grid-column-two-thirds">
            <div class="govuk-form-group">

                <govuk-error-summary *ngIf="hasErrors" title="There is a problem" #summaryError>
                    <govuk-error-link *ngFor="let error of errors" anchorId="{{error.anchorId}}"
                        [message]="error.shortMessage" />
                </govuk-error-summary>

                <h1 class="govuk-heading-l">You have not allocated all areas of accountability in
                    {{applicationService.model.BuildingName}}</h1>
                <govuk-body>At least one accountable person must be accountable for each of these areas.</govuk-body>

                <div class="govuk-!-margin-bottom-6" *ngFor="let section of applicationService.model.Sections; let i = index">
                    <ng-container *ngFor="let area of areasOfAccountability">
                        <!-- <govuk-checkbox-group [title]="getCheckboxTitle(i, area)" hint="Select all that apply." #field [govukRequired]="field"> -->
                        <govuk-checkbox-group [title]="area" hint="Select all that apply." #field [govukRequired]="field">
                            <!-- <govuk-checkbox *ngFor="let person of applicationService.model.AccountablePersons" [text]="getAccountablePersonName(person) ?? ''"/> -->
                            <govuk-checkbox *ngFor="let person of accountablePersons" [text]="person"  value="facilities" />
                        </govuk-checkbox-group> -->
                    </ng-container>
                </div>

            </div>

            <govuk-inset-text>If these accountable persons are not accountable for all areas you'll need to <a
                    class="govuk-link" role="link" tabindex="0">add an accountable person</a>.</govuk-inset-text>

            <govuk-button (onClick)="saveAndContinue()" [isLoading]="processing">Save and continue</govuk-button>
            <save-and-come-back (onClick)="saveAndComeBack()" />
        </div>
    </div>
</div>