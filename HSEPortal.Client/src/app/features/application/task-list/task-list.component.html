<div class="govuk-main-wrapper" id="main-content">
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      <govuk-fieldset title="Register {{applicationService.model.BuildingName}}" [isPageHeading]="true" titleClass="govuk-fieldset__legend--xl  govuk-!-margin-bottom-8">

        <govuk-body class="govuk-fieldset__legend--s govuk-!-margin-bottom-2">Application {{completedSections == 3 ? 'complete' : 'incomplete'}}</govuk-body>
        <govuk-body class="govuk-!-margin-bottom-8">You have completed {{completedSections}} of 3 sections.</govuk-body>

        <govuk-body class="govuk-fieldset__legend--s govuk-!-margin-bottom-2">Returning to this application</govuk-body>
        <govuk-body>We will save the information you give to us on each page.</govuk-body>
        <govuk-body class="govuk-!-margin-bottom-4">Your application number and instructions on how to return later have been sent to <b>{{applicationService.model.ContactEmailAddress}}</b>.</govuk-body>

        <govuk-task-list>
          <govuk-task-list-item sectionNumber="1" text="Prepare your application">
            <govuk-summary-list>
              <govuk-summary-list-row>
                <a class="govuk-link" (click)="navigateToSections()" role="link">Building summary</a>
                <govuk-tag class="govuk-tag--grey" *ngIf="this.applicationService.model.ApplicationStatus == applicationStatus.None">NOT STARTED YET</govuk-tag>
                <govuk-tag class="govuk-tag--blue" *ngIf="containsFlag(applicationStatus.BlocksInBuildingInProgress) && !containsFlag(applicationStatus.BlocksInBuildingComplete)">IN PROGRESS</govuk-tag>
                <govuk-tag *ngIf="containsFlag(applicationStatus.BlocksInBuildingComplete)">COMPLETE</govuk-tag>
              </govuk-summary-list-row>

              <govuk-summary-list-row>
                <span *ngIf="!containsFlag(applicationStatus.BlocksInBuildingComplete)">Accountable persons</span>
                <a *ngIf="containsFlag(applicationStatus.BlocksInBuildingComplete)" class="govuk-link" (click)="navigateToPap()" role="link">Accountable persons</a>
                <govuk-tag class="govuk-tag--grey" *ngIf="!containsFlag(applicationStatus.BlocksInBuildingComplete)">CANNOT START YET</govuk-tag>
                <govuk-tag class="govuk-tag--grey" *ngIf="containsFlag(applicationStatus.BlocksInBuildingComplete) && !containsFlag(applicationStatus.AccountablePersonsInProgress)">NOT STARTED YET</govuk-tag>
                <govuk-tag class="govuk-tag--blue" *ngIf="containsFlag(applicationStatus.AccountablePersonsInProgress) && !containsFlag(applicationStatus.AccountablePersonsComplete)">IN PROGRESS</govuk-tag>
                <govuk-tag *ngIf="containsFlag(applicationStatus.AccountablePersonsComplete)">COMPLETE</govuk-tag>
              </govuk-summary-list-row>
            </govuk-summary-list>
          </govuk-task-list-item>

          <govuk-task-list-item sectionNumber="2" text="Submit your application">
            <govuk-summary-list>
              <govuk-summary-list-row>
                <span *ngIf="!containsFlag(applicationStatus.AccountablePersonsComplete)">Apply and pay the fee</span>
                <a *ngIf="containsFlag(applicationStatus.AccountablePersonsComplete)" class="govuk-link" (click)="navigateToPayment()" role="link">Apply and pay the fee</a>
                <govuk-tag class="govuk-tag--grey" *ngIf="!containsFlag(applicationStatus.AccountablePersonsComplete)">CANNOT START YET</govuk-tag>
                <govuk-tag class="govuk-tag--grey" *ngIf="containsFlag(applicationStatus.AccountablePersonsComplete) && !containsFlag(applicationStatus.PaymentInProgress)">NOT STARTED YET</govuk-tag>
                <govuk-tag class="govuk-tag--blue" *ngIf="containsFlag(applicationStatus.PaymentInProgress) && !containsFlag(applicationStatus.PaymentComplete)">IN PROGRESS</govuk-tag>
                <govuk-tag *ngIf="containsFlag(applicationStatus.PaymentComplete)">COMPLETE</govuk-tag>
              </govuk-summary-list-row>
            </govuk-summary-list>
          </govuk-task-list-item>
        </govuk-task-list>

        <govuk-body>After you have paid the fee and applied, you will be asked for more detailed information on your building.</govuk-body>

      </govuk-fieldset>
    </div>
  </div>
</div>